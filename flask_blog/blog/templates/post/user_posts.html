{% extends 'layout.html' %}

{% block title %}
	{{ title }}
{% endblock title %}

{% block content %}
	<h2>All posts by {{ username.capitalize() }}</h2>
	<p><strong>Total posts: </strong>{{ posts|length }}</p>
	{% for post in posts %}
		<div class="post">
			<h1><a href="{{ url_for('detail_post', post_id=post.id) }}">{{ post.title }}</a></h1>
			<p><strong>{{ post.author.username }}</strong> on {{ post.date_posted.strftime("%Y-%m-%d %H:%M:%S") }}</p>
			{% if post.content|length > 500 %}
				<p>{{ post.content[:500] }}... <a href="{{ url_for('detail_post', post_id=post.id) }}">Read more</a></p>
			{% else %}
				<p>{{ post.content}}</p>
			{% endif %}
		</div>
	{% endfor %}
{% endblock content %}